<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libCATS: libCATS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libCATS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">libCATS</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a><img src="https://github.com/CamK06/libCATS/actions/workflows/linux-build.yml/badge.svg" alt="Linux CI" style="pointer-events: none;" class="inline"/> <img src="https://github.com/CamK06/libCATS/actions/workflows/windows-build.yml/badge.svg" alt="Windows CI" style="pointer-events: none;" class="inline"/> <img src="https://github.com/CamK06/libCATS/actions/workflows/cats-tests.yml/badge.svg" alt="CATS Tests" style="pointer-events: none;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md1"></a>
About</h1>
<p>libCATS is an implementation of the <a href="https://cats.radio/">CATS</a> standard in C, intended for embedded use in <a href="https://github.com/CamK06/CATS-Firmware">firmware for CATS radios</a>, as well as desktop CATS software. It provides a simple API for encoding and decoding CATS packets and their component whiskers. Software using libCATS does not have to be concerned with any 'low level' parts of the CATS standard, however those functions are still exposed in the API to allow for flexibility in software where it may be useful to not have everything abstracted.</p>
<p>libCATS aims to be 100% compliant with the CATS standard, and should work with existing CATS radios using the official <a href="https://gitlab.scd31.com/cats/ham-cats">Rust implementation</a> of CATS.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Examples</h1>
<p>Note: API is subject to change, as it is early in development</p>
<p>Creating a simple packet with a callsign and comment: </p><div class="fragment"><div class="line">uint8_t* buf = NULL;</div>
<div class="line"><a class="code hl_struct" href="structcats__packet__t.html">cats_packet_t</a>* pkt;</div>
<div class="line"> </div>
<div class="line">cats_packet_prepare(&amp;pkt); <span class="comment">// Initialize pkt</span></div>
<div class="line">cats_packet_add_identification(pkt, <span class="stringliteral">&quot;VE3KCN&quot;</span>, 7, 1); <span class="comment">// Add an ID with callsign VE3KCN-7 and a logo of 1</span></div>
<div class="line">cats_packet_add_comment(pkt, <span class="stringliteral">&quot;Hello libCATS world!&quot;</span>); <span class="comment">// Self explanatory; Add a comment whisker</span></div>
<div class="line"><span class="keywordtype">int</span> len = cats_packet_build(pkt, &amp;buf); <span class="comment">// Allocates buf automatically</span></div>
<div class="line">free(pkt); <span class="comment">// Packet builder no longer needed</span></div>
<div class="ttc" id="astructcats__packet__t_html"><div class="ttname"><a href="structcats__packet__t.html">cats_packet_t</a></div><div class="ttdef"><b>Definition</b> packet.h:12</div></div>
</div><!-- fragment --><p>Decoding a packet and reading the identification and comment fields: </p><div class="fragment"><div class="line">uint8_t* buf = ... <span class="comment">// Buffer with the received packet</span></div>
<div class="line"><a class="code hl_struct" href="structcats__packet__t.html">cats_packet_t</a>* pkt;</div>
<div class="line"> </div>
<div class="line">cats_packet_prepare(&amp;pkt);</div>
<div class="line"><span class="keywordflow">if</span>(!cats_packet_from_buf(pkt, buf, bufLen)) {</div>
<div class="line">    fprintf(stderr, cats_error_str);</div>
<div class="line">    <span class="keywordflow">return</span> -1; <span class="comment">// Decode failed</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> comment[1024];</div>
<div class="line"><span class="keywordtype">char</span> callsign[255];</div>
<div class="line">uint8_t ssid;</div>
<div class="line">uint16_t icon;</div>
<div class="line">cats_packet_get_identification(pkt, callsign, &amp;ssid, &amp;icon);</div>
<div class="line">cats_packet_get_comment(pkt, comment);</div>
<div class="line"> </div>
<div class="line">free(buf);</div>
<div class="line">free(pkt);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Contributing</h1>
<p>Pull requests are VERY much welcome! I'm still a novice when it comes to writing pure C, so there's a lot that can be improved. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
